<!doctype html>
<html lang="en">
<head>
	<title>{{ page.title }}</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
	<link rel="stylesheet" href="/assets/css/style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
	<link rel="stylesheet" href="/assets/css/glightbox.css"/>
</head>
	
<body id="home">
	<!-- Navbar -->
	<div class="w3-top" style="background: rgba(255, 255, 255, 0.3)">
		<div class="w3-bar" id="myNavbar">
			<a class="w3-dark-grey w3-bar-item w3-button w3-hover-black w3-hide-medium w3-hide-large w3-right" href="javascript:void(0);" onclick="toggleFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
			<a href="/index#home" class="w3-bar-item w3-button w3-hide-small">HOME</a>
			<a href="/index#about" class="w3-bar-item w3-button w3-hide-small"><i class="fa-solid fa-circle-user"></i> ABOUT</a>
			<a href="/index#cv" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-suitcase"></i> CV</a>
			<a href="/projects" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-wrench"></i> PROJECTS</a>
			<a href="/extracurricular" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-rocket"></i> EXTRACURRICULAR</a>
			<a href="/index#contact" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-envelope"></i> CONTACT</a>
			<a class="w3-bar-item w3-button w3-right" onclick="changeTheme()" href="javascript:void(0);"><i class="fa-solid fa-circle-half-stroke"></i></a>
		</div>
		<!-- Navbar on small screens -->
		<div id="navDemo" class="w3-bar-block w3-dark-grey w3-hide w3-hide-large w3-hide-medium">
			<a href="/index#home" class="w3-bar-item w3-button">HOME</a>
			<a href="/index#about" class="w3-bar-item w3-button" onclick="toggleFunction()">ABOUT</a>
			<a href="/index#cv" class="w3-bar-item w3-button" onclick="toggleFunction()">CV</a>
			<a href="/projects" class="w3-bar-item w3-button" onclick="toggleFunction()">PROJECTS</a>
			<a href="/extracurricular" class="w3-bar-item w3-button" onclick="toggleFunction()">EXTRACURRICULAR</a>
			<a href="/index#contact" class="w3-bar-item w3-button" onclick="toggleFunction()">CONTACT</a>
		</div>
	</div>
	
	<!-- Main Background -->
	{% capture bg_label %}{{ page.title | upcase }}{% endcapture -%}
	{% capture bg_url %}{{ page.bg }}{% endcapture -%}
	{% capture bg_height %}{{ page.bg_height }}{% endcapture -%}
	{% include parallax_bg.html
		image_label=bg_label
		image_url=bg_url
		image_height=bg_height
	%}
	
	{{ content }}
	
	<!-- Footer -->
	<footer class="w3-center w3-black w3-padding-64">
		<a href="#home" class="w3-button w3-light-grey"><i class="fa fa-arrow-up w3-margin-right"></i>To the top</a>
		<div class="w3-xlarge w3-section">
			<a href={{site.author.email}}><i class="fa-solid fa-envelope w3-hover-opacity"></i></a>
			<a href={{site.author.linkedin}}><i class="fa-brands fa-linkedin w3-hover-opacity"></i></a>
			<a href={{site.author.orcid}}><i class="fa-brands fa-orcid w3-hover-opacity"></i></a>
			<a href={{site.author.github}}><i class="fa-brands fa-github w3-hover-opacity"></i></a>
		</div>
	</footer>
	<script src="/assets/js/glightbox.js"></script>
	<script src="/assets/js/toggleNav.js"></script>
	<script src="/assets/js/p5.min.js"></script>
	<script src="/assets/js/drawCircuit.js"></script>
	<script >
		const lightbox = GLightbox({
			selector: '.glightbox',
			loop: true,
			closeButton: true,
		});
		const themes = ['default','black-theme','red-theme','green-theme','blue-theme'];
		var themeIndex = sessionStorage.getItem('theme'); 
		if (!themeIndex){
			const userPreferedTheme = () => window?.matchMedia?.('(prefers-color-scheme:dark)')?.matches ? 1 : 0;
			themeIndex = userPreferedTheme();
			sessionStorage.setItem('theme', themeIndex);
		}
		themeIndex = themeIndex - 1 % themes.length;
		changeTheme();
		function changeTheme() {
			var divs = document.querySelectorAll('body, .w3-content, .w3-col');	
			for (var i = 0; i < divs.length; i++) {
				divs[i].classList.remove(themes[themeIndex]);
				divs[i].classList.add(themes[(themeIndex+1) % themes.length]);
			}
			themeIndex = (themeIndex + 1) % themes.length;
			sessionStorage.setItem('theme', themeIndex);
		}
	</script>
</body>
</html>